(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{63:(e,r,t)=>{"use strict";var a=t(7260);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},1588:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var a=t(5155),s=t(2115),i=t(63),l=t(508),o=t(9408);let n=(0,t(1847).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var d=t(5632),c=t(5380);let m={navButtonPadding:"1.5rem 2.5rem",heroTopPadding:"8rem",heroBottomPadding:"4rem",heroTitleSize:"3rem",heroSubtitleSize:"1.25rem",formTopPadding:"2rem",formBottomPadding:"2rem",formMaxWidth:"28rem",formPadding:"2rem",inputPadding:"0.75rem 1rem",buttonPadding:"0.75rem 1.5rem",labelSize:"0.875rem",inputSize:"1rem",buttonSize:"1rem",linkSize:"0.875rem"};function u(){let[e,r]=(0,s.useState)(!0),[t,u]=(0,s.useState)({email:"",password:"",confirmPassword:"",userType:"user",fullName:"",organizationName:""}),[h,p]=(0,s.useState)({}),[x,g]=(0,s.useState)(!1),{login:y,register:b}=(0,c.A)(),f=(0,i.useRouter)(),N=e=>{let{name:r,value:t}=e.target;u(e=>({...e,[r]:t})),h[r]&&p(e=>({...e,[r]:""}))},w=async r=>{if(r.preventDefault(),(()=>{let r={};if(t.email?/\S+@\S+\.\S+/.test(t.email)||(r.email="Некорректный email"):r.email="Email обязателен",t.password?t.password.length<6&&(r.password="Пароль должен содержать минимум 6 символов"):r.password="Пароль обязателен",!e){let e="user"===t.userType?"fullName":"organizationName",a="user"===t.userType?t.fullName:t.organizationName,s="user"===t.userType?"ФИО":"Название организации";a.trim()?a.trim().length<2&&(r[e]="".concat(s," должно содержать минимум 2 символа")):r[e]="".concat(s," обязательно"),t.confirmPassword?t.password!==t.confirmPassword&&(r.confirmPassword="Пароли не совпадают"):r.confirmPassword="Подтверждение пароля обязательно"}return p(r),0===Object.keys(r).length})()){g(!0);try{(e?await y(t.email,t.password):await b({email:t.email,password:t.password,userType:t.userType,name:"user"===t.userType?t.fullName:t.organizationName}))?f.push("/"):p({general:e?"Неверный email или пароль":"Ошибка регистрации. Попробуйте еще раз."})}catch(e){console.error("Auth error:",e),p({general:"Произошла ошибка. Попробуйте еще раз."})}finally{g(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsx)(d.Header,{navButtonPadding:m.navButtonPadding}),(0,a.jsx)("section",{style:{paddingTop:m.heroTopPadding,paddingBottom:m.heroBottomPadding},children:(0,a.jsxs)("div",{className:"w-full text-center px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("h1",{className:"font-bold mb-4",style:{fontSize:m.heroTitleSize},children:e?"Вход в систему":"Регистрация"}),(0,a.jsx)("p",{className:"text-gray-300 mb-8",style:{fontSize:m.heroSubtitleSize},children:e?"Войдите в свой аккаунт CivilX":"Создайте аккаунт и начните работу с CivilX"})]})}),(0,a.jsx)("section",{style:{paddingTop:m.formTopPadding,paddingBottom:m.formBottomPadding},children:(0,a.jsx)("div",{className:"w-full flex justify-center px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",style:{maxWidth:m.formMaxWidth,width:"100%",padding:m.formPadding},children:(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[h.general&&(0,a.jsx)("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-red-400 text-sm",children:h.general})}),!e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-3",style:{fontSize:m.labelSize},children:"Тип аккаунта"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>u(e=>({...e,userType:"user"})),className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat("user"===t.userType?"border-primary-500 bg-primary-500/10":"border-gray-600 hover:border-gray-500"),children:[(0,a.jsx)(l.A,{className:"w-6 h-6 mx-auto mb-2 text-primary-400"}),(0,a.jsx)("div",{className:"font-medium",style:{fontSize:m.labelSize},children:"Пользователь"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>u(e=>({...e,userType:"organization"})),className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat("organization"===t.userType?"border-primary-500 bg-primary-500/10":"border-gray-600 hover:border-gray-500"),children:[(0,a.jsx)(o.A,{className:"w-6 h-6 mx-auto mb-2 text-primary-400"}),(0,a.jsx)("div",{className:"font-medium",style:{fontSize:m.labelSize},children:"Организация"})]})]})]}),!e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"user"===t.userType?"fullName":"organizationName",className:"block text-gray-300 mb-2",style:{fontSize:m.labelSize},children:"user"===t.userType?"ФИО":"Название организации"}),(0,a.jsx)("input",{type:"text",id:"user"===t.userType?"fullName":"organizationName",name:"user"===t.userType?"fullName":"organizationName",value:"user"===t.userType?t.fullName:t.organizationName,onChange:N,required:!0,className:"w-full bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:ring-1 focus:ring-primary-500 transition-colors ".concat(h["user"===t.userType?"fullName":"organizationName"]?"border-red-500":"border-gray-600 focus:border-primary-500"),style:{padding:m.inputPadding,fontSize:m.inputSize},placeholder:"user"===t.userType?"Введите ваше ФИО":"Введите название организации"}),h["user"===t.userType?"fullName":"organizationName"]&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:h["user"===t.userType?"fullName":"organizationName"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-gray-300 mb-2",style:{fontSize:m.labelSize},children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:N,required:!0,className:"w-full bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:ring-1 focus:ring-primary-500 transition-colors ".concat(h.email?"border-red-500":"border-gray-600 focus:border-primary-500"),style:{padding:m.inputPadding,fontSize:m.inputSize},placeholder:"Введите ваш email"}),h.email&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:h.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-gray-300 mb-2",style:{fontSize:m.labelSize},children:"Пароль"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",value:t.password,onChange:N,required:!0,className:"w-full bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:ring-1 focus:ring-primary-500 transition-colors ".concat(h.password?"border-red-500":"border-gray-600 focus:border-primary-500"),style:{padding:m.inputPadding,fontSize:m.inputSize},placeholder:"Введите пароль"}),h.password&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:h.password})]}),!e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-300 mb-2",style:{fontSize:m.labelSize},children:"Подтвердите пароль"}),(0,a.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:N,required:!0,className:"w-full bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:ring-1 focus:ring-primary-500 transition-colors ".concat(h.confirmPassword?"border-red-500":"border-gray-600 focus:border-primary-500"),style:{padding:m.inputPadding,fontSize:m.inputSize},placeholder:"Подтвердите пароль"}),h.confirmPassword&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:h.confirmPassword})]}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"w-full font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2 ".concat(x?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-primary-500 hover:bg-primary-600 text-black"),style:{padding:m.buttonPadding,fontSize:m.buttonSize},children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),e?"Вход...":"Регистрация..."]}):(0,a.jsxs)(a.Fragment,{children:[e?"Войти":"Зарегистрироваться",(0,a.jsx)(n,{size:16})]})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{type:"button",onClick:()=>r(!e),className:"text-primary-400 hover:text-primary-300 transition-colors",style:{fontSize:m.linkSize},children:e?"Нет аккаунта? Зарегистрироваться":"Уже есть аккаунт? Войти"})})]})})})})]})}},1681:(e,r,t)=>{Promise.resolve().then(t.bind(t,1588))},5380:(e,r,t)=>{"use strict";t.d(r,{A:()=>l,AuthProvider:()=>o});var a=t(5155),s=t(2115);let i=(0,s.createContext)(void 0),l=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:r}=e,[t,l]=(0,s.useState)(null),[o,n]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("civilx_user");if(e)try{l(JSON.parse(e))}catch(e){console.error("Error parsing saved user:",e),localStorage.removeItem("civilx_user")}n(!1)},[]);let d=async(e,r)=>{n(!0);try{await new Promise(e=>setTimeout(e,1e3));let r={id:"1",email:e,userType:"user",name:"Тестовый Пользователь",createdAt:new Date().toISOString()};return l(r),localStorage.setItem("civilx_user",JSON.stringify(r)),console.log("Успешный вход:",r),!0}catch(e){return console.error("Ошибка входа:",e),!1}finally{n(!1)}},c=async e=>{n(!0);try{await new Promise(e=>setTimeout(e,1e3));let r={id:Date.now().toString(),email:e.email,userType:e.userType,name:e.name,createdAt:new Date().toISOString()};return l(r),localStorage.setItem("civilx_user",JSON.stringify(r)),console.log("Успешная регистрация:",r),!0}catch(e){return console.error("Ошибка регистрации:",e),!1}finally{n(!1)}};return(0,a.jsx)(i.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:o,login:d,register:c,logout:()=>{l(null),localStorage.removeItem("civilx_user"),console.log("Пользователь вышел из системы")}},children:r})}},5632:(e,r,t)=>{"use strict";t.d(r,{Header:()=>g});var a=t(5155),s=t(2115),i=t(2619),l=t.n(i),o=t(508),n=t(4926),d=t(5229),c=t(9540),m=t(2821),u=t(5889);function h(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,u.QP)((0,m.$)(r))}let p=e=>{let{className:r,size:t="md"}=e;return(0,a.jsxs)("div",{className:h("flex items-center gap-2",r),children:[(0,a.jsx)("span",{className:h("font-bold text-white",{sm:"text-lg",md:"text-2xl",lg:"text-4xl"}[t]),children:"CIVIL"}),(0,a.jsx)("div",{className:"relative w-8 h-8 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("div",{className:"absolute bg-primary-400 origin-center shadow-lg",style:{width:"sm"===t?"16px":"md"===t?"20px":"28px",height:"sm"===t?"4px":"md"===t?"5px":"7px",borderRadius:"3px",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(45deg)",boxShadow:"0 0 10px rgba(20, 184, 166, 0.5)"}}),(0,a.jsx)("div",{className:"absolute bg-primary-400 origin-center shadow-lg",style:{width:"sm"===t?"16px":"md"===t?"20px":"28px",height:"sm"===t?"4px":"md"===t?"5px":"7px",borderRadius:"3px",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-45deg)",boxShadow:"0 0 10px rgba(20, 184, 166, 0.5)"}})]})})]})};var x=t(5380);let g=e=>{let{navButtonPadding:r="1rem 1.5rem"}=e,[t,i]=(0,s.useState)(!1),{user:m,isAuthenticated:u,logout:h}=(0,x.A)(),g=()=>{h(),i(!1)};return(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-md border-b border-gray-800",children:(0,a.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsx)(l(),{href:"/",className:"flex items-center",children:(0,a.jsx)(p,{size:"md"})}),(0,a.jsx)("nav",{className:"hidden md:flex items-center justify-center flex-1",children:(0,a.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,a.jsx)(l(),{href:"/",className:"text-white hover:text-primary-400 transition-colors duration-200 font-medium text-lg rounded-md hover:bg-white/10",style:{padding:r},children:(0,a.jsx)("span",{className:"block",children:"О нас"})}),(0,a.jsx)(l(),{href:"/pricing",className:"text-white hover:text-primary-400 transition-colors duration-200 font-medium text-lg rounded-md hover:bg-white/10",style:{padding:r},children:(0,a.jsx)("span",{className:"block",children:"Продукт"})})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[u?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l(),{href:"/dashboard",className:"p-3 text-white hover:text-primary-400 transition-colors duration-200 hover:bg-white/10 rounded-lg","aria-label":"Личный кабинет",title:null==m?void 0:m.name,children:(0,a.jsx)(o.A,{size:28})}),(0,a.jsx)("button",{onClick:g,className:"p-3 text-white hover:text-red-400 transition-colors duration-200 hover:bg-white/10 rounded-lg","aria-label":"Выйти из аккаунта",title:"Выйти",children:(0,a.jsx)(n.A,{size:28})})]}):(0,a.jsx)(l(),{href:"/auth",className:"p-3 text-white hover:text-primary-400 transition-colors duration-200 hover:bg-white/10 rounded-lg","aria-label":"Войти в аккаунт",children:(0,a.jsx)(o.A,{size:28})}),(0,a.jsx)("button",{onClick:()=>{i(!t)},className:"md:hidden p-2 text-white hover:text-primary-400 transition-colors duration-200","aria-label":"Открыть меню",children:t?(0,a.jsx)(d.A,{size:20}):(0,a.jsx)(c.A,{size:20})})]})]}),t&&(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-black/95 backdrop-blur-md border-t border-gray-800",children:[(0,a.jsx)(l(),{href:"/",className:"block px-3 py-2 text-white hover:text-primary-400 transition-colors duration-200 font-medium",onClick:()=>i(!1),children:"О нас"}),(0,a.jsx)(l(),{href:"/pricing",className:"block px-3 py-2 text-white hover:text-primary-400 transition-colors duration-200 font-medium",onClick:()=>i(!1),children:"Продукт"}),u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{href:"/dashboard",className:"block px-3 py-2 text-white hover:text-primary-400 transition-colors duration-200 font-medium",onClick:()=>i(!1),children:"Личный кабинет"}),(0,a.jsx)("button",{onClick:()=>{g(),i(!1)},className:"block w-full text-left px-3 py-2 text-white hover:text-red-400 transition-colors duration-200 font-medium",children:"Выйти"})]}):(0,a.jsx)(l(),{href:"/auth",className:"block px-3 py-2 text-white hover:text-primary-400 transition-colors duration-200 font-medium",onClick:()=>i(!1),children:"Войти"})]})})]})})}},9408:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(1847).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])}},e=>{e.O(0,[619,276,441,255,358],()=>e(e.s=1681)),_N_E=e.O()}]);