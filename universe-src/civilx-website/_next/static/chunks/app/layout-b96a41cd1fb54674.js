(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1535:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},2968:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,1535,23)),Promise.resolve().then(t.t.bind(t,3673,23)),Promise.resolve().then(t.bind(t,5380))},3673:()=>{},5380:(e,r,t)=>{"use strict";t.d(r,{A:()=>s,AuthProvider:()=>i});var o=t(5155),l=t(2115);let a=(0,l.createContext)(void 0),s=()=>{let e=(0,l.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},i=e=>{let{children:r}=e,[t,s]=(0,l.useState)(null),[i,n]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=localStorage.getItem("civilx_user");if(e)try{s(JSON.parse(e))}catch(e){console.error("Error parsing saved user:",e),localStorage.removeItem("civilx_user")}n(!1)},[]);let c=async(e,r)=>{n(!0);try{await new Promise(e=>setTimeout(e,1e3));let r={id:"1",email:e,userType:"user",name:"Тестовый Пользователь",createdAt:new Date().toISOString()};return s(r),localStorage.setItem("civilx_user",JSON.stringify(r)),console.log("Успешный вход:",r),!0}catch(e){return console.error("Ошибка входа:",e),!1}finally{n(!1)}},u=async e=>{n(!0);try{await new Promise(e=>setTimeout(e,1e3));let r={id:Date.now().toString(),email:e.email,userType:e.userType,name:e.name,createdAt:new Date().toISOString()};return s(r),localStorage.setItem("civilx_user",JSON.stringify(r)),console.log("Успешная регистрация:",r),!0}catch(e){return console.error("Ошибка регистрации:",e),!1}finally{n(!1)}};return(0,o.jsx)(a.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:i,login:c,register:u,logout:()=>{s(null),localStorage.removeItem("civilx_user"),console.log("Пользователь вышел из системы")}},children:r})}}},e=>{e.O(0,[820,441,255,358],()=>e(e.s=2968)),_N_E=e.O()}]);